
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Oncology Quiz | ADMIN PRO</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Poppins', sans-serif; 
            background: #0a0a0a; 
            color: white; 
            text-align: center; 
            background-image: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('https://images.pexels.com/photos/4225880/pexels-photo-4225880.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'); 
            background-size: cover;
            min-height: 100vh;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        h1 { font-weight: 800; letter-spacing: 2px; margin-bottom: 30px; text-transform: uppercase; }

        .panel { 
            background: rgba(255, 255, 255, 0.05); 
            backdrop-filter: blur(15px);
            margin: 20px auto; 
            padding: 35px; 
            width: 85%; 
            max-width: 800px;
            border-radius: 25px; 
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
        }

        /* --- Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© --- */
        .btn-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        button { 
            padding: 15px 30px; 
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-radius: 12px; 
            border: 1px solid rgba(255,255,255,0.1); 
            font-weight: 700; 
            cursor: pointer; 
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(5px);
            position: relative;
            overflow: hidden;
        }

        button:active { transform: scale(0.95); }

        /* Ø²Ø± Ø§Ù„Ø­Ø°Ù - Ø£Ø­Ù…Ø± Ø´ÙØ§Ù */
        .reset-btn { 
            background: rgba(239, 68, 68, 0.15); 
            color: #ff6b6b; 
            border-color: rgba(239, 68, 68, 0.3);
        }
        .reset-btn:hover { 
            background: rgba(239, 68, 68, 0.8); 
            color: white; 
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
        }

        /* Ø²Ø± Ø§Ù„Ø¨Ø¯Ø¡ - Ø£Ø®Ø¶Ø± Ø´ÙØ§Ù */
        .start-btn { 
            background: rgba(16, 185, 129, 0.15); 
            color: #2ecc71; 
            border-color: rgba(16, 185, 129, 0.3);
        }
        .start-btn:hover { 
            background: rgba(16, 185, 129, 0.8); 
            color: white; 
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.4);
            transform: translateY(-5px);
        }

        /* Ø²Ø± Ø§Ù„Ù†ØªØ§Ø¦Ø¬ - Ø£Ø²Ø±Ù‚ Ø´ÙØ§Ù */
        .results-btn { 
            background: rgba(59, 130, 246, 0.15); 
            color: #60a5fa; 
            border-color: rgba(59, 130, 246, 0.3);
        }
        .results-btn:hover { 
            background: rgba(59, 130, 246, 0.8); 
            color: white; 
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
            transform: translateY(-5px);
        }

        /* --- ØªÙ†Ø³ÙŠÙ‚ ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„ÙØ±Ù‚ --- */
        .team-box { 
            display: inline-block; 
            width: 42%; 
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.05); 
            padding: 20px; 
            margin: 10px; 
            border-radius: 20px;
            transition: 0.3s;
        }
        
        #pink-status { border-bottom: 4px solid #ec4899; }
        #purple-status { border-bottom: 4px solid #9d50bb; }

        .score-num { font-size: 2.5rem; font-weight: 800; display: block; margin-top: 10px; }
    </style>
</head>
<body>
    <h1>Panneau Admin</h1>
    
    <div class="panel">
        <div class="btn-container">
            <button class="reset-btn" onclick="resetComp()">ğŸ”„ Reset System</button>
            <button class="start-btn" onclick="startQuiz()">ğŸš€ Lancer le Quiz</button>
            <button class="results-btn" onclick="showResults()">ğŸ“Š Afficher Score</button>
        </div>
    </div>

    <div class="panel">
        <div class="team-box" id="pink-status">
            <h3 style="color: #ec4899;">TEAM ROSE</h3>
            <p>Nom: <span id="p-name">---</span></p>
            <span class="score-num" id="p-score" style="color: #ec4899;">0</span>
        </div>
        <div class="team-box" id="purple-status">
            <h3 style="color: #9d50bb;">TEAM VIOLETTE</h3>
            <p>Nom: <span id="v-name">---</span></p>
            <span class="score-num" id="v-score" style="color: #9d50bb;">0</span>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script>
        const firebaseConfig = { databaseURL: "https://quiz-8016b-default-rtdb.firebaseio.com/" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database().ref('competition');

        function resetComp() {
            if(confirm("Voulez-vous vraiment tout rÃ©initialiser ?")) {
                db.set({
                    status: 'waiting',
                    teamPink: "", userPink: "", scorePink: 0, finishedPink: false,
                    teamPurple: "", userPurple: "", scorePurple: 0, finishedPurple: false,
                    startTime: 0, showResults: false
                });
            }
        }

        function startQuiz() {
            db.update({ status: 'start', startTime: Date.now() });
        }

        function showResults() {
            db.update({ showResults: true });
        }

        db.on('value', snap => {
            const d = snap.val(); if(!d) return;
            document.getElementById('p-name').innerText = d.teamPink || "---";
            document.getElementById('p-score').innerText = d.scorePink || 0;
            document.getElementById('v-name').innerText = d.teamPurple || "---";
            document.getElementById('v-score').innerText = d.scorePurple || 0;
        });
    </script>
</body>
</html>
